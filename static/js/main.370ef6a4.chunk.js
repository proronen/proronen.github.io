(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(30)},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),l=(a(24),a(2)),c=a(3),s=a(5),m=a(4),u=a(6),d=a(1),p=a(7),b=a(10),h={movies:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"moviesList":return Object(d.a)({},t.payload);case"deleteMovie":var a=e.Search.filter(function(e){return e.id!==t.obj.id});return e.Search=a,Object(d.a)({},e);case"editMovieData":var n=e.Search.map(function(e){return e.id===t.obj.id&&(e.Title=t.obj.title,e.Year=t.obj.year),e});return e.Search=n,Object(d.a)({},e);case"addMovie":var r=t.obj,o=Object(d.a)({},e.Search),i=[];return Object.keys(o).map(function(e,t){return i.push(o[t])}),i.push(r),e.Search=i,Object(d.a)({},e);default:return e}},f={modals:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":case"deleteMovieConfirm":return Object(d.a)({},e,{modals:e.modals.concat(t.obj)});case"CLOSE_MODAL":return Object(d.a)({},e,{modals:e.modals.filter(function(e){return e.id!==t.obj.id})});default:return e}},j={formData:[],errors:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"formData":return Object(d.a)({},t.payload);case"errorsData":return Object(d.a)({},e,{errors:t.obj.errors});default:return e}},O=Object(b.b)({movies:v,modals:y,formData:E}),C=Object(b.c)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),N=function(e){return{type:"OPEN_MODAL",obj:e}},g=function(e){return{type:"deleteMovie",obj:e}},w=function(e){return{type:"editMovieData",obj:e}},D=function(e){return{type:"addMovie",obj:e}},k=function(e){return{type:"errorsData",obj:e}},S=a(12),_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){C.dispatch({type:"formData",payload:{fields:Object(d.a)({},C.getState().formData.fields,Object(S.a)({},e.target.name,e.target.value))}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){"new_movie"===this.props.type?C.dispatch({type:"formData",payload:{fields:{id:C.getState().movies.Search.length+1,Title:"",Year:"",new_movie:!0}}}):C.dispatch({type:"formData",payload:{fields:{id:this.props.id,title:this.props.title,year:this.props.year,errors:this.props.errors}}})}},{key:"render",value:function(){var e=C.getState().formData,t=e.fields,a=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("div",{className:"form_inputs"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",value:t.title||"",onChange:this.handleChange,id:"title",placeholder:"Movie Title"}),r.a.createElement("span",null,!!a&&!!a.title&&r.a.createElement("div",null,a.title))),r.a.createElement("div",{className:"form_inputs"},r.a.createElement("label",{htmlFor:"title"},"Year"),r.a.createElement("input",{name:"year",value:t.year||"",onChange:this.handleChange,id:"year",placeholder:"Movie Year"}),r.a.createElement("span",null,!!a&&!!a.year&&r.a.createElement("div",null,a.year)))))}}]),t}(r.a.Component);var M=Object(p.b)(function(e){return e})(_),T=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.movieData,a=t.id,n=t.Title,o=t.Year,i=t.Poster,l=i?{backgroundImage:"url(".concat(i,")")}:{};return r.a.createElement("div",{className:"movie",style:l},r.a.createElement("div",{className:"hoverBox"},r.a.createElement("div",{className:"title"},n),r.a.createElement("div",{className:"year"},o)),r.a.createElement("div",{className:"editbox"},r.a.createElement("div",{onClick:function(){return e.props.dispatch({type:"deleteMovieConfirm",obj:{id:a,type:"confirmation",modalTitle:"Delete movie",text:"are you sure you want to delete ".concat(n,"?"),btnText:"Delete"}})}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement("div",{onClick:function(){return e.props.dispatch(N({id:a,type:"movieModal",modalTitle:n,content:r.a.createElement(M,{id:a,year:o,title:n}),btnText:"Save"}))}},r.a.createElement("i",{className:"fas fa-edit"}))))}}]),t}(n.Component);var x=Object(p.b)(function(e){return e})(T),L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"new_movie"},r.a.createElement("div",{id:"new_movie_btn",onClick:function(){return e.props.dispatch(N({type:"movieModal",modalTitle:"Add new Movie",content:r.a.createElement(M,{type:"new_movie"}),btnText:"Save new movie"}))}},r.a.createElement("i",{className:"fas fa-plus-circle"})," New"))}}]),t}(n.Component);var A=Object(p.b)(function(e){return e})(L),I=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){fetch("https://www.omdbapi.com/?apikey=3f34bc19&type=movie&s=return&page=1").then(function(e){return e.json()}).then(function(e){e.Search&&(e.Search.map(function(e,t){return e.id=t}),C.dispatch({type:"moviesList",payload:Object(d.a)({},e)}))})}},{key:"render",value:function(){var e=C.getState().movies;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement("div",{id:"movies_cont"},e&&e.Search?e.Search.map(function(e,t){return r.a.createElement(x,{movieData:e,key:t})}):r.a.createElement("img",{src:"loading.png",alt:""})))}}]),t}(n.Component);var P=Object(p.b)(function(e){return Object(d.a)({},e)})(I),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t=C.getState().formData.fields,n=t.id,r=t.title,o=t.year,i=t.new_movie,l={};if(""===r&&(l.title="Can't be empty"),""===o&&(l.year="Can't be empty"),isNaN(o)&&(l.year="Please fill in number only"),0===Object.keys(l).length){var c=r.replace(/[^A-Z\u05d0-\u05eaa-z0-9 ]/g,"");c=c.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "),i?(C.dispatch(D({id:n,Title:c,Year:o})),a.onClose()):(C.dispatch(w({id:n,title:c,year:o})),a.onClose())}else C.dispatch(k({type:"errorsData",errors:l}))},a.handleDelete=function(e){C.dispatch(g({id:e})),a.onClose()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onClose",value:function(){this.props.item.onClose?(this.props.item.onClose(),this.props.onClose(this.props.item)):this.props.onClose(this.props.item)}},{key:"onConfirm",value:function(){this.props.item.onConfirm&&(this.props.item.onConfirm(),this.props.onClose(this.props.item))}},{key:"render",value:function(){var e=this,t=this.props.item.type;if("confirmation"===t){var a=this.props.item,n=a.modalTitle,o=a.text,i=a.id,l=a.btnText;return r.a.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},n),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},o),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.handleDelete(i)}},l||"Save"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return e.onClose()}},"Cancel")))))}if("movieModal"===t){var c=this.props.item,s=c.content,m=c.modalTitle,u=c.btnText;return r.a.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},m),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},s),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.handleSubmit()}},u||"Save"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return e.onClose()}},"Cancel")))))}return r.a.createElement("div",null,"Empty Modal")}}]),t}(n.Component),F=Object(p.b)(null)(Y),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return i.a.createPortal(this.props.children,this.el)}}]),t}(r.a.PureComponent),X=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.modals&&this.props.modals.modals.length>0?this.props.modals.modals.map(function(t,a){return r.a.createElement(U,{key:a},r.a.createElement(F,{item:t,onClose:function(t){return e.props.dispatch({type:"CLOSE_MODAL",obj:t})}}))}):"";return r.a.createElement("div",{className:t.length>0?"modals":""},t)}}]),t}(n.Component),B=Object(p.b)(function(e){return{modals:e.modals}},function(e){return{dispatch:e}})(X),J=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"content"},r.a.createElement("h1",null,"Herolo Cinema"),r.a.createElement(P,null),r.a.createElement(B,null))}}]),t}(n.Component);i.a.render(r.a.createElement(p.a,{store:C},r.a.createElement(J,null)),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.370ef6a4.chunk.js.map